<svg viewBox="0 0 1200 800" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="0" dy="4" stdDeviation="3" flood-color="rgba(0,0,0,0.1)"/>
    </filter>
    <linearGradient id="presentationGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#ff9a9e"/>
      <stop offset="100%" style="stop-color:#fecfef"/>
    </linearGradient>
    <linearGradient id="orchestrationGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#a8edea"/>
      <stop offset="100%" style="stop-color:#fed6e3"/>
    </linearGradient>
    <linearGradient id="mcpGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#ffecd2"/>
      <stop offset="100%" style="stop-color:#fcb69f"/>
    </linearGradient>
    <linearGradient id="servicesGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#84fab0"/>
      <stop offset="100%" style="stop-color:#8fd3f4"/>
    </linearGradient>
    <linearGradient id="externalGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#cfd9df"/>
      <stop offset="100%" style="stop-color:#e2ebf0"/>
    </linearGradient>
  </defs>
  
  <!-- Title -->
  <text x="600" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="28" font-weight="bold" fill="#2c3e50">
    MCP Spotify Podcast Agent Architecture
  </text>
  
  <!-- Presentation Layer -->
  <rect x="50" y="60" width="1100" height="120" rx="15" fill="url(#presentationGradient)" stroke="#ff6b9d" stroke-width="3" filter="url(#shadow)"/>
  <text x="70" y="85" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#2c3e50">ğŸŒ Presentation Layer</text>
  <rect x="80" y="95" width="300" height="60" rx="8" fill="rgba(255,255,255,0.9)" stroke="#3498db" stroke-width="2"/>
  <text x="90" y="115" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#2c3e50">FastAPI Server</text>
  <text x="90" y="135" font-family="Arial, sans-serif" font-size="12" fill="#7f8c8d">RESTful API endpoints</text>
  
  <rect x="400" y="95" width="300" height="60" rx="8" fill="rgba(255,255,255,0.9)" stroke="#3498db" stroke-width="2"/>
  <text x="410" y="115" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#2c3e50">MCP Endpoints</text>
  <text x="410" y="135" font-family="Arial, sans-serif" font-size="12" fill="#7f8c8d">Direct MCP server communication</text>
  
  <rect x="720" y="95" width="300" height="60" rx="8" fill="rgba(255,255,255,0.9)" stroke="#3498db" stroke-width="2"/>
  <text x="730" y="115" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#2c3e50">CLI Interface</text>
  <text x="730" y="135" font-family="Arial, sans-serif" font-size="12" fill="#7f8c8d">Command-line interface</text>
  
  <!-- Arrow -->
  <polygon points="600,190 590,200 610,200" fill="#3498db"/>
  
  <!-- Orchestration Layer -->
  <rect x="50" y="210" width="1100" height="120" rx="15" fill="url(#orchestrationGradient)" stroke="#00d4aa" stroke-width="3" filter="url(#shadow)"/>
  <text x="70" y="235" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#2c3e50">ğŸ¯ Orchestration Layer</text>
  <rect x="80" y="245" width="300" height="60" rx="8" fill="rgba(255,255,255,0.9)" stroke="#3498db" stroke-width="2"/>
  <text x="90" y="265" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#2c3e50">MCP Podcast Agent</text>
  <text x="90" y="285" font-family="Arial, sans-serif" font-size="12" fill="#7f8c8d">Main orchestrator</text>
  
  <rect x="400" y="245" width="300" height="60" rx="8" fill="rgba(255,255,255,0.9)" stroke="#3498db" stroke-width="2"/>
  <text x="410" y="265" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#2c3e50">MCP Client</text>
  <text x="410" y="285" font-family="Arial, sans-serif" font-size="12" fill="#7f8c8d">Communication hub</text>
  
  <rect x="720" y="245" width="300" height="60" rx="8" fill="rgba(255,255,255,0.9)" stroke="#3498db" stroke-width="2"/>
  <text x="730" y="265" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#2c3e50">Configuration Manager</text>
  <text x="730" y="285" font-family="Arial, sans-serif" font-size="12" fill="#7f8c8d">Preferences &amp; settings</text>
  
  <!-- Arrow -->
  <polygon points="600,340 590,350 610,350" fill="#3498db"/>
  
  <!-- MCP Protocol Layer -->
  <rect x="50" y="360" width="1100" height="180" rx="15" fill="url(#mcpGradient)" stroke="#ff8a65" stroke-width="3" filter="url(#shadow)"/>
  <text x="70" y="385" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#2c3e50">ğŸ”Œ MCP Protocol Layer</text>
  
  <!-- Spotify MCP Server -->
  <rect x="80" y="395" width="280" height="120" rx="12" fill="rgba(255,255,255,0.95)" stroke="#1db954" stroke-width="2"/>
  <text x="190" y="415" font-family="Arial, sans-serif" font-size="36" text-anchor="middle">ğŸµ</text>
  <text x="190" y="440" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#2c3e50" text-anchor="middle">Spotify MCP Server</text>
  <text x="90" y="460" font-family="Arial, sans-serif" font-size="11" fill="#7f8c8d">Tools: search_podcasts, get_episodes</text>
  <text x="90" y="475" font-family="Arial, sans-serif" font-size="11" fill="#7f8c8d">add_to_queue, get_devices</text>
  <text x="90" y="490" font-family="Arial, sans-serif" font-size="11" fill="#7f8c8d">Resources: Profile, Devices</text>
  
  <!-- LLM MCP Server -->
  <rect x="410" y="395" width="280" height="120" rx="12" fill="rgba(255,255,255,0.95)" stroke="#ff6b6b" stroke-width="2"/>
  <text x="520" y="415" font-family="Arial, sans-serif" font-size="36" text-anchor="middle">ğŸ§ </text>
  <text x="520" y="440" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#2c3e50" text-anchor="middle">LLM MCP Server</text>
  <text x="420" y="460" font-family="Arial, sans-serif" font-size="11" fill="#7f8c8d">Tools: evaluate_episode</text>
  <text x="420" y="475" font-family="Arial, sans-serif" font-size="11" fill="#7f8c8d">generate_summary</text>
  <text x="420" y="490" font-family="Arial, sans-serif" font-size="11" fill="#7f8c8d">AI-powered analysis</text>
  
  <!-- Queue MCP Server -->
  <rect x="740" y="395" width="280" height="120" rx="12" fill="rgba(255,255,255,0.95)" stroke="#4ecdc4" stroke-width="2"/>
  <text x="850" y="415" font-family="Arial, sans-serif" font-size="36" text-anchor="middle">ğŸ“‹</text>
  <text x="850" y="440" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#2c3e50" text-anchor="middle">Queue MCP Server</text>
  <text x="750" y="460" font-family="Arial, sans-serif" font-size="11" fill="#7f8c8d">Tools: add_pending, get_pending</text>
  <text x="750" y="475" font-family="Arial, sans-serif" font-size="11" fill="#7f8c8d">remove_processed</text>
  <text x="750" y="490" font-family="Arial, sans-serif" font-size="11" fill="#7f8c8d">Resources: Pending Episodes</text>
  
  <!-- Arrow -->
  <polygon points="600,550 590,560 610,560" fill="#3498db"/>
  
  <!-- Core Services Layer -->
  <rect x="50" y="570" width="1100" height="120" rx="15" fill="url(#servicesGradient)" stroke="#00bfa5" stroke-width="3" filter="url(#shadow)"/>
  <text x="70" y="595" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#2c3e50">âš™ï¸ Core Services Layer</text>
  <rect x="80" y="605" width="300" height="60" rx="8" fill="rgba(255,255,255,0.9)" stroke="#3498db" stroke-width="2"/>
  <text x="90" y="625" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#2c3e50">Spotify Client</text>
  <text x="90" y="645" font-family="Arial, sans-serif" font-size="12" fill="#7f8c8d">Direct Spotify Web API</text>
  
  <rect x="400" y="605" width="300" height="60" rx="8" fill="rgba(255,255,255,0.9)" stroke="#3498db" stroke-width="2"/>
  <text x="410" y="625" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#2c3e50">LLM Agent</text>
  <text x="410" y="645" font-family="Arial, sans-serif" font-size="12" fill="#7f8c8d">OpenAI GPT-4 evaluation</text>
  
  <rect x="720" y="605" width="300" height="60" rx="8" fill="rgba(255,255,255,0.9)" stroke="#3498db" stroke-width="2"/>
  <text x="730" y="625" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#2c3e50">Queue Manager</text>
  <text x="730" y="645" font-family="Arial, sans-serif" font-size="12" fill="#7f8c8d">Episode queue management</text>
  
  <!-- Arrow -->
  <polygon points="600,700 590,710 610,710" fill="#3498db"/>
  
  <!-- External Services Layer -->
  <rect x="50" y="720" width="1100" height="70" rx="15" fill="url(#externalGradient)" stroke="#607d8b" stroke-width="3" filter="url(#shadow)"/>
  <text x="70" y="745" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#2c3e50">ğŸŒ External Services</text>
  <rect x="200" y="750" width="300" height="30" rx="8" fill="rgba(255,255,255,0.9)" stroke="#3498db" stroke-width="2"/>
  <text x="210" y="770" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#2c3e50">Spotify Web API</text>
  
  <rect x="600" y="750" width="300" height="30" rx="8" fill="rgba(255,255,255,0.9)" stroke="#3498db" stroke-width="2"/>
  <text x="610" y="770" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#2c3e50">OpenAI API</text>
</svg>